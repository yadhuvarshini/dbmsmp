<!DOCTYPE html>
<html>

<head>
  <title>login</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
  <link href="style.css" rel="stylesheet">

  <script>




     function login() {
      const email = $("#email").val();
      const pass = $("#pass").val();
      var url = "http://localhost:4000/login";
      var data = { email, pass };

      
var jqxhr = $.post(url, data);
    // Handle results
    jqxhr.done(function(result) {
      localStorage.setItem("Name",result.name);
      localStorage.setItem("loginsuccess",result.loginsuccess);

        alert("ajax success" );

        location.href = "home.html";

    });
    jqxhr.fail(function() {
        alert("ajax error");
    });

        return false;

    }
  </script>

</head>

<body>
  

  <div class="background-container">
    <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/1231630/moon2.png" alt="">
    <div class="stars"></div>
    <div class="twinkling"></div>
    <div class="clouds"></div>
    </div>
  

  <div class="form-body">
   
    <div class="row">
        <div class="form-holder">
            <div class="form-content">
                <div class="form-items">
                    <h3>Login</h3>
                    <p>Fill in the data below.</p>

                    <form class="requires-validation" id="myform" onsubmit="login()" method="POST" novalidate>

  
                        <div class="col-md-12">
                             <label for="email"></label>
                             <input class="form-control" type="email" name="email" placeholder="E-mail Address" id="email" required>
                             <div class="valid-feedback">Email field is valid!</div>
                             <div class="invalid-feedback">Email field cannot be blank!</div>
  
                        </div>

                      

                       <div class="col-md-12">
                        <label for="password"></label>
                          <input class="form-control" type="password" name="password" placeholder="Password" id="pass" required>
                          <div class="valid-feedback">Password field is valid!</div>
                          <div class="invalid-feedback">Password field cannot be blank!</div>
 
                       </div>


                    <div class="form-check py-4">
                      <input class="form-check-input" type="checkbox" value="" id="invalidCheck" required>
                      <label class="form-check-label">I confirm that all data are correct</label>
                    </div>
              

                        <div class="form-button mt-3">
                            <button id="submit" type="submit" class="btn btn-primary">sign in</button>
                        </div>
                        <br>
                        <div class="signup">
                        Haven't you signed up yet ? <a href="/register.html" style="text-decoration: none ;">Sign up here</a>
                      </div>

                      </form>
                </div>
            </div>
        </div>
    </div>
</div>

</body>

<script>
  (function () {
'use strict'
const forms = document.querySelectorAll('.requires-validation')
Array.from(forms)
  .forEach(function (form) {
    form.addEventListener('submit', function (event) {
      if (!form.checkValidity()) {
        event.preventDefault()
        event.stopPropagation()
      }

      form.classList.add('was-validated')
    }, false)
  })
})()

</script>
</html>
